---
interface Props extends astroHTML.JSX.ButtonHTMLAttributes {}

const { class: className } = Astro.props;
---

<button
	class:list={['button-loading', className]}
	data-loading="false"
	{...Astro.props}
>
	<span class="content">
		<slot />
	</span>
	<span class="spinner" aria-label="loading">Loading...</span>
</button>

<style>
	.button-loading {
		position: relative;
		display: inline-flex;
		align-items: center;
		justify-content: center;
		min-width: 80px;
	}

	.button-loading[disabled] {
		cursor: not-allowed;
		opacity: 0.7;
	}

	.spinner {
		position: absolute;
		display: none;
	}

	.button-loading[data-loading='true'] .content {
		visibility: hidden;
	}

	.button-loading[data-loading='true'] .spinner {
		display: block;
	}
</style>
